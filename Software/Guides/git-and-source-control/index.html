<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Source Control &amp; Git | CPRT</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://cprt.github.io/docs/Software/Guides/git-and-source-control"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Source Control &amp; Git | CPRT"><meta data-react-helmet="true" name="description" content="When we write code for the rover, we want to have a central place to store and view that code aswell as the ability to track changes. That is where Source Control comes in. Source Control is a software development concept in which we track changes to our code and gives us the ability to rollback changes that introduced bugs and collaborate together more effectively."><meta data-react-helmet="true" property="og:description" content="When we write code for the rover, we want to have a central place to store and view that code aswell as the ability to track changes. That is where Source Control comes in. Source Control is a software development concept in which we track changes to our code and gives us the ability to rollback changes that introduced bugs and collaborate together more effectively."><link data-react-helmet="true" rel="canonical" href="https://cprt.github.io/docs/Software/Guides/git-and-source-control"><link data-react-helmet="true" rel="alternate" href="https://cprt.github.io/docs/Software/Guides/git-and-source-control" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cprt.github.io/docs/Software/Guides/git-and-source-control" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.28552db3.css">
<link rel="preload" href="/docs/assets/js/runtime~main.0c36e3bf.js" as="script">
<link rel="preload" href="/docs/assets/js/main.de1f2287.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><img src="/docs/img/logo.png" alt="CPRT Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/docs/img/logo.png" alt="CPRT Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">CPRT</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs/">Software</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/cprt" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/docs/">Home</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Best Practices &amp; Style</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Software/Guides/git-and-source-control">Source Control &amp; Git</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Software/Guides/ros-installation">ROS Installation</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Reference</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Source Control &amp; Git</h1></header><p>When we write code for the rover, we want to have a central place to store and view that code aswell as the ability to track changes. That is where Source Control comes in. Source Control is a software development concept in which we track changes to our code and gives us the ability to rollback changes that introduced bugs and collaborate together more effectively.</p><p>There are a number of solutions for source control (Git, Mercurial, Subversion) but Git is by far the most popular and is what we use on the team. Install Git from <a href="https://git-scm.com/book/en/v2/Getting-Started-Installing-Git" target="_blank" rel="noopener noreferrer">this link</a> before continuing.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="creating-a-repository"></a>Creating a Repository<a class="hash-link" href="#creating-a-repository" title="Direct link to heading">#</a></h3><p>Each git project has at least one repository. A repository is a collection of related but there is not hard-and-fast rule for what a repository should contain. Many developers use a single repository for each application or each component of an application while other use a single repository (referred to as a mono-repo) for all of their project files).</p><p>A git repository is created using the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git init</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Initialized empty Git repository in /path/to/repo</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="committing-files"></a>Committing Files<a class="hash-link" href="#committing-files" title="Direct link to heading">#</a></h3><p>Once a repository has now been created we need to add some files to it. Creating/modifying files within a git repository directory will not automatically add the files to the repository. </p><p>If we run the <code>git status</code> command, we see that our files are listed as &#x27;untracked&#x27;:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch master</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">No commits yet</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Untracked files:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        example_file.txt</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">nothing added to commit but untracked files present (use &quot;git add&quot; to track)</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As indicated in the above output, we need to run the <code>git add</code> command to include our desired files in the commit. If you only want to include certain files, you can <code>git add</code> them individually or use a wildcard. If you want to include all the contents of the current directory, use the command <code>git add .</code> where the &#x27;<code>.</code>&#x27; will match everything.</p><p>After running <code>git add .</code>, we can see that our file is now <em>staged</em>. Files added with <code>git add</code> are staged and will be included in the next commit.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git status</span></span><span class="token-line" style="color:#393A34"><span class="token plain">On branch master</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">No commits yet</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Changes to be committed:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        new file:   example_file.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We can now run <code>git commit</code> to store our changes and create a commit. Each commit must include a commit message which should be descriptive enough to indicate what you changed in the commit.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git commit -m &quot;Adding new test file&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[master (root-commit) 296b7dc] Adding new test file</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1 file changed, 0 insertions(+), 0 deletions(-)</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> create mode 100644 example_file.txt</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor anchor__h2 anchorWithStickyNavbar_31ik" id="github"></a>Github<a class="hash-link" href="#github" title="Direct link to heading">#</a></h2><p>Creating local repositories and commits is great for tracking and organizing personal projects but isn&#x27;t much use when we want to work with others. Hosted git repositories such as Github, Gitlab and Bitbucket allow us to host our code on a central server and share our commits with others.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="create-a-github-repository"></a>Create a Github Repository<a class="hash-link" href="#create-a-github-repository" title="Direct link to heading">#</a></h3><p>The first step to pushing our code to Github is to create a Github repository. Go to Github and click the &#x27;New Repository&#x27; button. You will see the following menu:
<img alt="github-create-repo" src="/docs/assets/images/github-create-repo-962f684d22ce5bbb769f53a640a38235.PNG">
Choose a good name for the repo and, if you want add a description then click &#x27;Create Repository&#x27;. The next screen has the information we need to publish our code to the repository we just created:
<img alt="github-repo-info" src="/docs/assets/images/github-repo-info-b90eed54219140306cd6a266428ccd40.PNG"></p><p>Since we have already created a local repository, we need to link it to the Github repository. To do that, we run the following commands:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git remote add origin git@github.com:MarkMckessock/demo-repo.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git branch -M main</span></span><span class="token-line" style="color:#393A34"><span class="token plain">$ git push -u origin main</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Enumerating objects: 3, done.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Counting objects: 100% (3/3), done.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Writing objects: 100% (3/3), 231 bytes | 231.00 KiB/s, done.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Total 3 (delta 0), reused 0 (delta 0), pack-reused 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">To github.com:MarkMckessock/demo-repo.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain"> * [new branch]      main -&gt; main</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Branch &#x27;main&#x27; set up to track remote branch &#x27;main&#x27; from &#x27;origin&#x27;.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The first command will add our Github repo as a <em>remote</em> for our local repo. (A remote is just a git repository hosted on another server that we can push code to) The second command will make sure we have the &#x27;main&#x27; branch selected and the final command will push our existing commits to the repo. If we refresh the Github page, we will see our files have been added:
<img alt="github-repo-contents" src="/docs/assets/images/github-new-files-5690dd978a4803e6648b46213165d55c.PNG"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="cloning-a-repository"></a>Cloning a Repository<a class="hash-link" href="#cloning-a-repository" title="Direct link to heading">#</a></h3><p>If we want to take a remote repository, such as one hosted on Github, and download it to our local machine, that is a process called cloning. Cloning a repository will give us all the contents of the repo as well as all the commit history and past changes.</p><p>First, we need to grab the repo URL. On Github, we can get it by clicking on the green &#x27;Code&#x27; button on the main page of any repository and copying the HTTPS/SSH link.
<img alt="github-clone" src="/docs/assets/images/github-clone-979a843ba1a4938acb511dfa528d4ecc.PNG"></p><p>Once we have the URL, go to the command line and run the following:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git clone git@github.com:MarkMckessock/demo-repo.git</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Cloning into &#x27;demo-repo&#x27;...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">remote: Enumerating objects: 3, done.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">remote: Counting objects: 100% (3/3), done.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">remote: Total 3 (delta 0), reused 3 (delta 0), pack-reused 0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Receiving objects: 100% (3/3), done.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The repository has now been cloned to your workstation.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="working-on-team-repos"></a>Working on Team Repos<a class="hash-link" href="#working-on-team-repos" title="Direct link to heading">#</a></h3><p>One concept that many developers try to stick to is to ensure that the code in the master/main branch is always good, executable code. That means that we don&#x27;t want to be committing untested and possibly buggy code directly to main. Instead, we should work on new features in their own branch, test them and then merge the feature branch back into main once we are done. This is referred to as the GitFlow workflow and there&#x27;s lots of information available about it.
<img alt="github-repo-contents" src="/docs/assets/images/gitflow-0585f0049f417f38fc3017237515252c.PNG"></p><p>If you want to create a new feature or fix a bug, the first step is to create a new branch. This can be done from Github or from the command line. On Github, click the branches menu for the repo, type a name for your new branch, and click &#x27;Create branch&#x27;:
<img alt="github-repo-contents" src="/docs/assets/images/github-new-branch-a46c21c0da9bc85868d26be8442d4b7f.PNG"></p><p>On your local machine, make sure you have the repository cloned and open a terminal in the root of the repository. Run the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">$ git checkout my-new-feature</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Switched to a new branch &#x27;my-new-feature&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">Branch &#x27;my-new-feature&#x27; set up to track remote branch &#x27;my-new-feature&#x27; from &#x27;origin&#x27;.</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This will checkout your newly created branch and any changes you make will now be made to your branch, not the main branch. You can now begin working on your changes. Once you are finished your feature or fixes move on to the next section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="merging--code-review"></a>Merging &amp; Code Review<a class="hash-link" href="#merging--code-review" title="Direct link to heading">#</a></h3><p>Once you have completed work on a new feature or bug fix, you&#x27;ll want to merge your changes back into the main branch so that everyone else can use your changes. To merge code on Github, we have to create a &#x27;Pull Request&#x27;.</p><ol><li><p>On Github, open your branch that you want to merge and click &#x27;Contribute&#x27; and &#x27;Open pull request&#x27;.
<img alt="github-pr" src="/docs/assets/images/github-pull-request-5da463ad907610fbdaea3abd2232111c.PNG"></p></li><li><p>Create a name for the pull request. The name should provide a summary of the changes made in the pull request. Also add a description containing details such as what problem the pull request solves and any issues you encountered.</p><p>Sometimes, when you are merging a commit containing a file that has also been modified by someone else you&#x27;ll run into something called a merge conflict. Merge conflicts are often some of the hardest challenges you&#x27;ll encouter when dealing with version control and should be dealt with thoughtfully. Sometimes the merge conflict is simple and git can resolve the issue itself, but often you will have to explicitly tell git which changes you want to keep from each version of the file. When in doubt, ask for help.</p></li><li><p>Add reviewers. No one writes perfect code and we all make mistakes. A great way to minimize bugs and improve the quality of our code is by having other members of the team review our code before we merge it. Add another member of the team (doesn&#x27;t have to by a lead) to review your code. </p><p><img alt="github-reviwers" src="/docs/assets/images/github-reviewers-1b7de1961ff93cd4b1ae4f30b4079f16.PNG"></p></li><li><p>Once your PR has been created and your reviewer(s) have had a chance to look it over and provide feedback, you are ready to merge you PR. Click the &#x27;Merge pull request&#x27; button and you changes will be merged into the target branch. You&#x27;ll want to run <code>git pull</code> for the changes to show up on your local checkout.</p></li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Software/Best Practices &amp; Style/style-guide"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Style Guide</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/Software/Guides/ros-installation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ROS Installation Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-a-repository" class="table-of-contents__link">Creating a Repository</a></li><li><a href="#committing-files" class="table-of-contents__link">Committing Files</a></li><li><a href="#github" class="table-of-contents__link">Github</a><ul><li><a href="#create-a-github-repository" class="table-of-contents__link">Create a Github Repository</a></li><li><a href="#cloning-a-repository" class="table-of-contents__link">Cloning a Repository</a></li><li><a href="#working-on-team-repos" class="table-of-contents__link">Working on Team Repos</a></li><li><a href="#merging--code-review" class="table-of-contents__link">Merging &amp; Code Review</a></li></ul></li></ul></div></div></div></div></main></div></div></div>
<script src="/docs/assets/js/runtime~main.0c36e3bf.js"></script>
<script src="/docs/assets/js/main.de1f2287.js"></script>
</body>
</html>